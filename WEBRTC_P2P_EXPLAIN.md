# WebRTC P2P 동기화 설명

## 🔍 WebRTC P2P란?

**WebRTC (Web Real-Time Communication)**는 브라우저 간 직접 연결을 가능하게 하는 기술입니다.
**P2P (Peer-to-Peer)**는 서버를 거치지 않고 기기 간 직접 통신하는 방식입니다.

## 📊 비교표

| 항목 | Firebase | Supabase | WebRTC P2P |
|------|----------|----------|------------|
| 서버 비용 | 무료 (제한 있음) | 무료 (제한 있음) | **완전 무료** ✅ |
| 동기화 제한 | 일일 50,000 읽기 | 무제한 API | **무제한** ✅ |
| 실시간 동기화 | ✅ | ✅ | ✅ |
| 오프라인 동기화 | ✅ (서버 저장) | ✅ (서버 저장) | ❌ (동시 온라인 필요) |
| 구현 난이도 | 쉬움 | 쉬움 | **어려움** ⚠️ |
| 프라이버시 | 서버 저장 | 서버 저장 | **서버 없음** ✅ |

## 🎯 WebRTC P2P 동작 방식

```
기기 A (PC)                    기기 B (모바일)
    │                                │
    │ 1. 연결 요청                   │
    ├───────────────────────────────>│
    │                                │
    │ 2. 연결 정보 교환 (시그널링)   │
    │<───────────────────────────────>│
    │                                │
    │ 3. 직접 연결 (WebRTC)          │
    │<═══════════════════════════════>│
    │                                │
    │ 4. 데이터 동기화               │
    │<═══════════════════════════════>│
```

## ⚙️ 필요한 구성 요소

1. **시그널링 서버** (연결 설정용)
   - 무료 옵션: Socket.io 서버, 또는 간단한 WebSocket 서버
   - 또는 무료 서비스: PeerJS, Simple-peer 등

2. **WebRTC 연결**
   - 브라우저 내장 API 사용
   - 직접 구현 필요

## 💡 이 프로젝트에 적용한다면?

### 장점
- ✅ 완전 무료 (서버 비용 없음)
- ✅ 무제한 동기화
- ✅ 데이터가 서버를 거치지 않음 (프라이버시)

### 단점
- ❌ 두 기기가 **동시에 온라인**일 때만 동기화 가능
- ❌ 구현이 복잡함 (연결 관리, 오류 처리 등)
- ❌ 방화벽/NAT 환경에서 연결 실패 가능

### 사용 시나리오
- PC와 모바일을 동시에 사용하는 경우
- 두 기기를 동시에 켜두고 작업하는 경우
- 서버에 데이터를 저장하고 싶지 않은 경우

## 🚀 구현 방법

### 방법 1: PeerJS 사용 (가장 쉬움)
- 무료 시그널링 서버 제공
- 간단한 API로 구현 가능

### 방법 2: 직접 구현
- WebRTC API 직접 사용
- 시그널링 서버 직접 구축 필요

## 🤔 추천

**일반 사용자**: Supabase 추천
- 구현이 쉬움
- 오프라인 동기화 가능
- 안정적

**프라이버시 중시**: WebRTC P2P 고려
- 서버에 데이터 저장 안 함
- 완전 무료
- 구현 복잡도 높음

