<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>solioquy</title>
  <link rel="stylesheet" href="styles.css">
  <!-- GitHub Gist ë™ê¸°í™” -->
  <script>
    // GitHub Gist ë™ê¸°í™” ì´ˆê¸°í™”
    window.githubSync = null;
    window.githubReady = false;
    
    // ì €ì¥ëœ GitHub í† í° í™•ì¸
    const savedToken = localStorage.getItem('github_token');
    const savedGistId = localStorage.getItem('github_gist_id');
    
    if (savedToken) {
      // GitHub ë™ê¸°í™” í´ë˜ìŠ¤ ì´ˆê¸°í™”
      window.githubSync = {
        token: savedToken,
        gistId: savedGistId,
        apiUrl: 'https://api.github.com',
        fileName: 'soliloquy-data.json',
        lastUpdated: localStorage.getItem('github_last_updated') || null
      };
      window.githubReady = true;
      console.log('GitHub Gist ë™ê¸°í™” ì¤€ë¹„ ì™„ë£Œ');
      window.dispatchEvent(new Event('github-ready'));
    } else {
      console.log('GitHub í† í°ì´ ì—†ìŠµë‹ˆë‹¤. ì‚¬ìš©ì ID ì…ë ¥ í›„ í† í°ì„ ì…ë ¥í•˜ì„¸ìš”.');
      window.githubReady = false;
      // ì¤€ë¹„ ì™„ë£Œ ì´ë²¤íŠ¸ ë°œìƒ (í† í° ì—†ì–´ë„ ë¡œì»¬ ì €ì¥ì†ŒëŠ” ì‚¬ìš© ê°€ëŠ¥)
      window.dispatchEvent(new Event('github-ready'));
    }
  </script>
</head>
<body>
  <header class="main-header">
    <button id="change-user-id-btn" class="change-user-id-btn" type="button">ë‹¤ë¥¸ ID</button>
    <div id="last-updated" class="last-updated"></div>
  </header>
  <main class="container">
    <h1 class="visually-hidden">ë©”ëª¨ íƒ€ì„ìŠ¤íƒ¬í”„ ì•±</h1>
    <div class="main-content">
      <aside class="profile-section">
        <div class="profile-wrapper">
          <div class="profile-image">
            <img id="profile-img" src="" alt="í”„ë¡œí•„ ì‚¬ì§„" style="display: none;" />
            <div class="profile-image-placeholder">í”„ë¡œí•„ ì‚¬ì§„</div>
            <div id="profile-image-menu" class="profile-image-menu">
              <button type="button" class="profile-image-menu-item" id="profile-image-add">ì‚¬ì§„ ì¶”ê°€</button>
              <button type="button" class="profile-image-menu-item delete" id="profile-image-delete">ì‚¬ì§„ ì‚­ì œ</button>
            </div>
            <input id="profile-image-input" type="file" accept="image/*" style="display: none;" />
          </div>
          <div class="profile-name">
            <input id="profile-name-input" class="profile-name-input" type="text" placeholder="ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”..." />
          </div>
          <div id="profile-user-id" class="profile-user-id"></div>
          <div class="profile-bio">
            <textarea id="profile-bio-input" class="profile-bio-input" placeholder="ì†Œê°œë¥¼ ì…ë ¥í•˜ì„¸ìš”..." rows="1"></textarea>
          </div>
        </div>
      </aside>

      <div class="notes-section">
        <section class="composer" aria-labelledby="composer-label">
          <label id="composer-label" class="visually-hidden" for="note-input">ê¸€ ì‘ì„±</label>
          <div class="input-container">
            <textarea id="note-input" class="note-input" placeholder="ì—¬ê¸°ì— ê¸€ì„ ì“°ì„¸ìš”..." rows="3"></textarea>
            <div id="upload-preview" class="upload-preview" style="display:none"></div>
            <div id="thread-indicator" class="thread-indicator" style="display: none;">
              <span class="thread-indicator-text"></span>
              <button id="cancel-thread" class="thread-cancel-btn" type="button">ì·¨ì†Œ</button>
            </div>
          </div>
          <div class="actions">
            <input id="file-input" type="file" accept="image/*" multiple style="display:none" />
            <label for="file-input" id="upload-btn" class="btn btn-icon" role="button" aria-label="ì‚¬ì§„ ì²¨ë¶€" tabindex="0">
              <img src="photo-icon.svg" alt="ì‚¬ì§„" style="width: 16px; height: 16px;" />
            </label>
            <button id="submit-btn" class="submit-btn" type="button" aria-label="ì „ì†¡">
              <img src="send-icon.svg" alt="ì „ì†¡" style="width: 16px; height: 16px;" />
            </button>
          </div>
        </section>

        <section class="list" aria-labelledby="list-label">
          <h2 id="list-label" class="visually-hidden">ì €ì¥ëœ ê¸€ ëª©ë¡</h2>
          <div id="filter-info" class="filter-info"></div>
          <ul id="notes" class="notes" aria-live="polite"></ul>
        </section>
      </div>

      <aside class="calendar-section">
        <div class="calendar-wrapper">
          <div class="calendar-header">
            <button id="prev-month" class="btn-nav" type="button">â€¹</button>
            <span id="calendar-title" class="calendar-title"></span>
            <button id="next-month" class="btn-nav" type="button">â€º</button>
          </div>
          <div id="calendar" class="calendar"></div>
          <button id="clear-filter" class="btn-clear-filter" type="button" style="display: none;">í•„í„° í•´ì œ</button>
        </div>

        <div class="search-bar">
          <div class="search-input-wrapper">
            <input id="search-input" class="search-input" type="text" placeholder="ê²€ìƒ‰ì–´ ì…ë ¥" />
            <button id="search-btn" class="btn-search-icon" type="button" aria-label="ê²€ìƒ‰">
              <img id="search-icon" src="search-icon.svg" alt="ê²€ìƒ‰" style="display: block; width: 16px; height: 16px;" />
              <img id="close-icon" src="close-icon.svg" alt="ë‹«ê¸°" style="display: none; width: 16px; height: 16px;" />
            </button>
          </div>
        </div>

        <div class="calendar-actions">
          <button id="toggle-transparency" class="btn" type="button">íˆ¬ëª…</button>
          <button id="toggle-date" class="btn" type="button">ë‚ ì§œ</button>
          <button id="reset-btn" class="btn" type="button">ì´ˆê¸°í™”</button>
          <button id="restore-btn" class="btn" type="button" style="display: none;">ë³µì›</button>
          <button id="final-delete-btn" class="btn btn-delete" type="button" style="display: none;">ì§„ì§œë</button>
          <span id="total-notes-count" class="total-notes-count"></span>
        </div>

        <div class="bulk-actions" aria-label="ì¼ê´„ ì‘ì—…">
          <button id="toggle-selection" class="btn" type="button">ì„ íƒ</button>
          <button id="select-all-btn" class="btn bulk-controls" type="button">ì „ì²´</button>
          <button id="bulk-edit" class="btn bulk-controls" type="button">ìˆ˜ì •</button>
          <button id="bulk-delete" class="btn btn-delete bulk-controls" type="button">ì‚­ì œ</button>
        </div>

        <div class="folder-section">
          <div class="folder-header">
            <button id="toggle-folder" class="btn" type="button">í´ë”</button>
            <div class="folder-controls" style="display: none;">
              <button id="folder-add" class="btn" type="button">ì¶”ê°€</button>
              <button id="folder-edit" class="btn" type="button">ìˆ˜ì •</button>
              <button id="folder-remove" class="btn" type="button">í•´ì œ</button>
              <button id="folder-delete" class="btn btn-delete" type="button">ì‚­ì œ</button>
            </div>
          </div>
          <div id="folder-list" class="folder-list" style="display: none;"></div>
        </div>
      </aside>
    </div>
  </main>

  <div id="image-modal" class="image-modal" role="dialog" aria-modal="true" aria-label="ì´ë¯¸ì§€ ë³´ê¸°">
    <button id="image-modal-close" class="image-modal-close" type="button">ë‹«ê¸°</button>
    <button id="image-modal-prev" class="image-modal-nav image-modal-prev" type="button" aria-label="ì´ì „ ì´ë¯¸ì§€">â€¹</button>
    <button id="image-modal-next" class="image-modal-nav image-modal-next" type="button" aria-label="ë‹¤ìŒ ì´ë¯¸ì§€">â€º</button>
    <div class="image-modal-content">
      <img id="image-modal-img" alt="ì „ì²´ ì´ë¯¸ì§€" />
    </div>
  </div>

  <div id="toast" class="toast" style="display: none;"></div>

  <div id="reset-confirm-modal" class="reset-confirm-modal" style="display: none;">
    <div class="reset-confirm-content">
      <p>ì •ë§ ì´ˆê¸°í™”í•˜ì‹œê² ìŠµë‹ˆê¹Œ?</p>
      <div class="reset-confirm-buttons">
        <button id="reset-confirm-yes" class="btn" type="button">ë„¤</button>
        <button id="reset-confirm-no" class="btn btn-cancel" type="button">ì•„ë‹ˆìš”</button>
      </div>
    </div>
  </div>

  <div id="user-id-modal" class="user-id-modal" style="display: none;">
    <div class="user-id-content">
      <h2>ì‚¬ìš©ì ID ì„¤ì •</h2>
      <p style="color: #666; font-size: 13px;">ì‚¬ìš©ì IDë§Œ ì…ë ¥í•´ë„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. GitHub í† í°ì€ ë‚˜ì¤‘ì— ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
      <label style="display: block; margin-top: 12px; font-weight: bold;">ì‚¬ìš©ì ID <span style="color: #d32f2f;">(í•„ìˆ˜)</span></label>
      <input id="user-id-input" type="text" placeholder="ì‚¬ìš©ì ID ì…ë ¥" maxlength="50" style="width: 100%; padding: 8px; margin-top: 4px;" />
      <label style="display: block; margin-top: 12px; font-weight: bold;">GitHub í† í° <span style="color: #666; font-weight: normal; font-size: 12px;">(ì„ íƒì‚¬í•­ - ë‚˜ì¤‘ì— ì¶”ê°€ ê°€ëŠ¥)</span></label>
      <input id="github-token-input" type="password" placeholder="í† í° ì—†ì´ë„ ì‚¬ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤ (ë‚˜ì¤‘ì— ì¶”ê°€ ê°€ëŠ¥)" style="width: 100%; padding: 8px; margin-top: 4px;" />
      <div class="user-id-help" style="margin-top: 12px; padding: 12px; background: #f5f5f5; border-radius: 4px;">
        <p style="font-size: 12px; color: #666; margin: 0;">
          <strong>GitHub í† í° ìƒì„± ë°©ë²•:</strong><br>
          1. <a href="https://github.com/settings/tokens" target="_blank" style="color: #0066cc;">GitHub í† í° ì„¤ì • í˜ì´ì§€</a> ì—´ê¸°<br>
          2. "Generate new token (classic)" í´ë¦­<br>
          3. Noteì— "Soliloquy" ì…ë ¥<br>
          4. Expiration ì„ íƒ (ì˜ˆ: 90 days)<br>
          5. <strong>"gist" ê¶Œí•œë§Œ ì²´í¬</strong><br>
          6. "Generate token" í´ë¦­ í›„ í† í° ë³µì‚¬<br>
          7. ìœ„ ì…ë ¥ë€ì— ë¶™ì—¬ë„£ê¸°
        </p>
        <p style="font-size: 11px; color: #999; margin-top: 8px; margin-bottom: 0;">
          ğŸ’¡ í† í° ì—†ì´ë„ ì‚¬ìš© ê°€ëŠ¥í•˜ì§€ë§Œ, ë‹¤ë¥¸ ê¸°ê¸°ì™€ ë™ê¸°í™”í•˜ë ¤ë©´ í† í°ì´ í•„ìš”í•©ë‹ˆë‹¤.
        </p>
      </div>
      <div class="user-id-buttons" style="margin-top: 16px;">
        <button id="user-id-cancel" class="btn btn-cancel" type="button">ì·¨ì†Œ</button>
        <button id="user-id-submit" class="btn" type="button">í™•ì¸</button>
      </div>
    </div>
  </div>

  <div id="account-switch-modal" class="account-switch-modal" style="display: none;">
    <div class="account-switch-content">
      <h2>ê³„ì • ì „í™˜</h2>
      <p>ì´ë¯¸ ì¡´ì¬í•˜ëŠ” IDì…ë‹ˆë‹¤. ê³„ì •ì„ ì „í™˜í•˜ì‹œê² ìŠµë‹ˆê¹Œ?</p>
      <div class="account-switch-buttons">
        <button id="account-switch-cancel" class="btn btn-cancel" type="button">ì·¨ì†Œ</button>
        <button id="account-switch-confirm" class="btn" type="button">ì „í™˜</button>
      </div>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>


